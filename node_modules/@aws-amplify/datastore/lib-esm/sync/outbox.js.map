{"version":3,"file":"outbox.js","sourceRoot":"","sources":["../../src/sync/outbox.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,qBAAqB,EAAE,MAAM,eAAe,CAAC;AAOtD,OAAO,EAIN,QAAQ,GAER,MAAM,UAAU,CAAC;AAClB,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,EAAE,MAAM,SAAS,CAAC;AAClD,OAAO,EAAE,kBAAkB,EAAE,uBAAuB,EAAE,MAAM,SAAS,CAAC;AAEtE,4BAA4B;AAC5B,8GAA8G;AAC9G;IAGC,6BACkB,MAAsB,EACtB,aAAwD,EACxD,oBAA0C,EAC1C,SAAiB;QAHjB,WAAM,GAAN,MAAM,CAAgB;QACtB,kBAAa,GAAb,aAAa,CAA2C;QACxD,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,cAAS,GAAT,SAAS,CAAQ;IAChC,CAAC;IAES,qCAAO,GAApB,UACC,OAAgB,EAChB,aAA4B;;;;;4BAE5B,qBAAM,OAAO,CAAC,YAAY,CAAC,UAAM,CAAC;;;;;;wCAC3B,4BAA4B,GACjC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;wCAIhD,SAAS,GAAG,qBAAqB,CAAC,kBAAkB,CACzD,4BAA4B,EAC5B,UAAA,CAAC;4CACA,OAAA,CAAC;iDACC,OAAO,CAAC,IAAI,EAAE,aAAa,CAAC,OAAO,CAAC;iDACpC,EAAE,CAAC,IAAI,EAAE,KAAI,CAAC,yBAAyB,CAAC;wCAF1C,CAE0C,CAC3C,CAAC;wCAGc,qBAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,SAAS,CAAC,EAAA;;wCAAtD,KAAA,sBAAU,SAA4C,KAAA,EAArD,KAAK,QAAA;6CAGR,CAAA,KAAK,KAAK,SAAS,CAAA,EAAnB,wBAAmB;wCACtB,qBAAM,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,EAAA;;wCAAtD,SAAsD,CAAC;wCACvD,sBAAO;;wCAIW,oBAAoB,GAAK,aAAa,UAAlB,CAAmB;6CAEtD,CAAA,KAAK,CAAC,SAAS,KAAK,uBAAuB,CAAC,MAAM,CAAA,EAAlD,wBAAkD;6CACjD,CAAA,oBAAoB,KAAK,uBAAuB,CAAC,MAAM,CAAA,EAAvD,wBAAuD;wCAC1D,qBAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,SAAS,CAAC,EAAA;;wCAA7C,SAA6C,CAAC;;;wCAMxC,WAAS,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;wCAC1D,qBAAM,CAAC,CAAC,IAAI,CACX,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,UAAA,KAAK;gDACrC,KAAK,CAAC,IAAI,GAAG,QAAM,CAAC,IAAI,CAAC;4CAC1B,CAAC,CAAC,EACF,SAAS,EACT,IAAI,CAAC,SAAS,CACd,EAAA;;wCAND,SAMC,CAAC;;;;wCAGgB,qBAAqB,GAAK,aAAa,UAAlB,CAAmB;wCACrD,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;wCACxD,MAAM,SAAe,CAAC;6CAGtB,CAAA,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,MAAM,KAAK,CAAC,CAAA,EAA3C,yBAA2C;wCAC9C,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;wCAEpD,uBAAuB;wCACvB,qBAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,SAAS,CAAC,EAAA;;wCAD7C,uBAAuB;wCACvB,SAA6C,CAAC;;;wCAG/C,MAAM,GAAG,MAAO,IAAI,aAAa,CAAC;wCAElC,kBAAkB;wCAClB,qBAAM,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,EAAA;;wCAD/C,kBAAkB;wCAClB,SAA+C,CAAC;;;;;6BAEjD,CAAC,EAAA;;wBA7DF,SA6DE,CAAC;;;;;KACH;IAEY,qCAAO,GAApB,UACC,OAAqB,EACrB,MAAwB,EACxB,QAAkC;;;;;4BAErB,qBAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAA;;wBAA/B,IAAI,GAAG,SAAwB;6BAEjC,MAAM,EAAN,wBAAM;wBACT,qBAAM,IAAI,CAAC,2BAA2B,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,QAAS,CAAC,EAAA;;wBAAxE,SAAwE,CAAC;;4BAG1E,qBAAM,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAA;;wBAA1B,SAA0B,CAAC;wBAC3B,IAAI,CAAC,yBAAyB,GAAG,SAAU,CAAC;wBAE5C,sBAAO,IAAI,EAAC;;;;KACZ;IAED;;;;OAIG;IACU,kCAAI,GAAjB,UAAkB,OAAsB;;;;;4BAC1B,qBAAM,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,KAAK,CAAC,EAAA;;wBAAjE,IAAI,GAAG,SAA0D;wBAEvE,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,SAAU,CAAC;wBAE7D,sBAAO,IAAK,EAAC;;;;KACb;IAEY,yCAAW,GAAxB,UACC,OAAsB,EACtB,KAAQ,EACR,mBAAgC;;;;;;wBAE1B,4BAA4B,GACjC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC;wBAE7C,OAAO,GAAG,kBAAkB,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;wBAExC,qBAAM,OAAO,CAAC,KAAK,CACzC,IAAI,CAAC,aAAa,EAClB,qBAAqB,CAAC,kBAAkB,CACvC,4BAA4B,EAC5B,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,EAAxB,CAAwB,CAC7B,CACD,EAAA;;wBANK,cAAc,GAAG,SAMtB;wBAED,sBAAO,cAAc,EAAC;;;;KACtB;IAEY,yCAAW,GAAxB,UAAyB,OAAsB;;;;;4BACvB,qBAAM,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,EAAA;;wBAAxD,cAAc,GAAG,SAAuC;wBAExD,MAAM,GAAG,IAAI,GAAG,EAAU,CAAC;wBAEjC,cAAc,CAAC,OAAO,CAAC,UAAC,EAAW;gCAAT,oBAAO;4BAAO,OAAA,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;wBAAnB,CAAmB,CAAC,CAAC;wBAE7D,sBAAO,MAAM,EAAC;;;;KACd;IAED,qEAAqE;IACrE,yCAAyC;IACzC,2EAA2E;IAC7D,yDAA2B,GAAzC,UACC,OAAqB,EACrB,MAAuB,EACvB,IAAqB,EACrB,QAAgB;;;;;;;wBAEhB,IAAI,IAAI,CAAC,SAAS,KAAK,QAAQ,EAAE;4BAChC,sBAAO;yBACP;wBAEO,QAAQ,GAAiD,MAAM,SAAvD,EAAE,cAAc,GAAiC,MAAM,eAAvC,EAAE,QAAQ,GAAuB,MAAM,SAA7B,EAAK,aAAa,UAAK,MAAM,EAAjE,0CAAwD,CAAF,CAAY;wBAClE,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;wBAErE,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAEnC,IAAI,CAAC,IAAI,EAAE;4BACV,sBAAO;yBACP;wBAGU,SAAS,GAIhB,IAAI,SAJY,EACH,eAAe,GAG5B,IAAI,eAHwB,EACrB,SAAS,GAEhB,IAAI,SAFY,EAChB,aAAa,UACb,IAAI,EALF,0CAKL,CADgB,CACR;wBACH,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;wBAE3E,+EAA+E;wBAC/E,wDAAwD;wBACxD,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,YAAY,EAAE,IAAI,CAAC,EAAE;4BACnD,sBAAO;yBACP;wBAEK,4BAA4B,GACjC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;wBAEhD,mBAAmB,GACxB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBAE7C,QAAQ,GAAG,kBAAkB,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;wBAE3D,SAAS,GAAG,qBAAqB,CAAC,kBAAkB,CACzD,4BAA4B,EAC5B,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,KAAI,CAAC,yBAAyB,CAAC,EAAlE,CAAkE,CACvE,CAAC;wBAEwB,qBAAM,OAAO,CAAC,KAAK,CAC5C,IAAI,CAAC,aAAa,EAClB,SAAS,CACT,EAAA;;wBAHK,iBAAiB,GAAG,SAGzB;wBAED,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE;4BAC9B,sBAAO;yBACP;wBAEK,mBAAmB,GAAG,iBAAiB,CAAC,GAAG,CAAC,UAAA,CAAC;4BAClD,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;4BAEnC,IAAM,OAAO,yBAAQ,OAAO,KAAE,QAAQ,UAAA,EAAE,cAAc,gBAAA,GAAE,CAAC;4BAEzD,OAAO,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,EAAE,UAAA,KAAK;gCACxC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;4BACtC,CAAC,CAAC,CAAC;wBACJ,CAAC,CAAC,CAAC;wBAEH,qBAAM,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,SAAS,CAAC,EAAA;;wBAAnD,SAAmD,CAAC;wBAEpD,qBAAM,OAAO,CAAC,GAAG,CAChB,mBAAmB,CAAC,GAAG,CACtB,UAAM,CAAC;;4CAAI,qBAAM,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,EAAA;4CAAhD,sBAAA,SAAgD,EAAA;;qCAAA,CAC3D,CACD,EAAA;;wBAJD,SAIC,CAAC;;;;;KACF;IAEO,6CAAe,GAAvB,UACC,QAAuB,EACvB,OAAsB;QAEtB,IAAM,8BAEL,EAFO,sBAAQ,EAAE,kCAAc,EAAE,sBAAQ,EAAE,qEAE3C,CAAC;QAEF,IAAM,6BAKsB,EAJ3B,uBAAmB,EACnB,mCAA+B,EAC/B,uBAAmB,EACnB,oEAC2B,CAAC;QAE7B,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,qBAC1B,QAAQ,UAAA;YACR,cAAc,gBAAA;YACd,QAAQ,UAAA,IACL,YAAY,GACZ,WAAW,EACb,CAAC;QAEH,OAAO,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,aAAa,wBAC/C,OAAO,KACV,IAAI,MAAA,IACH,CAAC;IACJ,CAAC;IAED;;;;;;;;;;;;;;;;MAgBE;IACM,mDAAqB,GAA7B,UACC,KAAa,EACb,MAAuB;;QAEvB,IAAM,sBAAsB,GAAG,WAAW,CAAC;QAC3C,IAAM,sBAAsB,GAAG,WAAW,CAAC;QAE3C,IAAI,mBAAmB,GAAG,sBAAsB,CAAC;QACjD,IAAI,mBAAmB,GAAG,sBAAsB,CAAC;QAEjD,IAAM,eAAe,SAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,MAAM,CAC1D,KAAK,CACL,CAAC,UAAU,0CAAE,IAAI,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,KAAK,OAAO,EAArB,CAAqB,CAAC,CAAC;QAClD,IAAM,kBAAkB,SAAG,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,UAAU,0CAAE,UAAU,CAAC;QAEnE,IAAI,kBAAkB,EAAE;YACvB,mBAAmB,GAAG,kBAAkB,CAAC,sBAAsB,CAAC,CAAC;YACjE,mBAAmB,GAAG,kBAAkB,CAAC,sBAAsB,CAAC,CAAC;SACjE;QAED,OAAQ,MAA8B,CAAC,mBAAmB,CAAC,CAAC;QAC5D,OAAQ,MAA8B,CAAC,mBAAmB,CAAC,CAAC;QAE5D,OAAO,MAAM,CAAC;IACf,CAAC;IACF,0BAAC;AAAD,CAAC,AA/RD,IA+RC;AAED,OAAO,EAAE,mBAAmB,EAAE,CAAC"}