{"version":3,"file":"logoutAsync.js","names":["actionAsync","user","UserManager","getCurrentUserAsync","silent","accessToken","CommandError","logoutAsync","Log","log","e","message"],"sources":["../../../src/commands/auth/logoutAsync.ts"],"sourcesContent":["import { UserManager } from 'xdl';\n\nimport CommandError from '../../CommandError';\nimport Log from '../../log';\n\nexport async function actionAsync() {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user?.accessToken) {\n    throw new CommandError(\n      'ACCESS_TOKEN_ERROR',\n      'Please remove the EXPO_TOKEN environment var to logout.'\n    );\n  }\n\n  try {\n    await UserManager.logoutAsync();\n    Log.log('Logged out');\n  } catch (e: any) {\n    throw new CommandError(`Couldn't logout: ${e.message}`);\n  }\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAA4B;AAErB,eAAeA,WAAW,GAAG;EAClC,MAAMC,IAAI,GAAG,MAAMC,kBAAW,CAACC,mBAAmB,CAAC;IAAEC,MAAM,EAAE;EAAK,CAAC,CAAC;EACpE,IAAIH,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEI,WAAW,EAAE;IACrB,MAAM,KAAIC,uBAAY,EACpB,oBAAoB,EACpB,yDAAyD,CAC1D;EACH;EAEA,IAAI;IACF,MAAMJ,kBAAW,CAACK,WAAW,EAAE;IAC/BC,cAAG,CAACC,GAAG,CAAC,YAAY,CAAC;EACvB,CAAC,CAAC,OAAOC,CAAM,EAAE;IACf,MAAM,KAAIJ,uBAAY,EAAE,oBAAmBI,CAAC,CAACC,OAAQ,EAAC,CAAC;EACzD;AACF"}