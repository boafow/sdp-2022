{"version":3,"file":"whoamiAsync.js","names":["actionAsync","command","user","UserManager","getCurrentUserAsync","silent","parent","nonInteractive","Log","nested","username","log","chalk","cyan","process","exit"],"sources":["../../../src/commands/auth/whoamiAsync.ts"],"sourcesContent":["import chalk from 'chalk';\nimport { UserManager } from 'xdl';\n\nimport Log from '../../log';\n\nexport type Options = {\n  parent?: {\n    nonInteractive: boolean;\n  };\n};\n\nexport async function actionAsync(command: Options) {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user) {\n    if (command.parent?.nonInteractive) {\n      Log.nested(user.username);\n    } else {\n      Log.log(`Logged in as ${chalk.cyan(user.username)}`);\n    }\n  } else {\n    Log.log(`\\u203A Not logged in, run ${chalk.cyan`expo login`} to authenticate`);\n    process.exit(1);\n  }\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAA4B;AAQrB,eAAeA,WAAW,CAACC,OAAgB,EAAE;EAClD,MAAMC,IAAI,GAAG,MAAMC,kBAAW,CAACC,mBAAmB,CAAC;IAAEC,MAAM,EAAE;EAAK,CAAC,CAAC;EACpE,IAAIH,IAAI,EAAE;IAAA;IACR,uBAAID,OAAO,CAACK,MAAM,4CAAd,gBAAgBC,cAAc,EAAE;MAClCC,cAAG,CAACC,MAAM,CAACP,IAAI,CAACQ,QAAQ,CAAC;IAC3B,CAAC,MAAM;MACLF,cAAG,CAACG,GAAG,CAAE,gBAAeC,gBAAK,CAACC,IAAI,CAACX,IAAI,CAACQ,QAAQ,CAAE,EAAC,CAAC;IACtD;EACF,CAAC,MAAM;IACLF,cAAG,CAACG,GAAG,CAAE,6BAA4BC,gBAAK,CAACC,IAAK,YAAY,kBAAiB,CAAC;IAC9EC,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;EACjB;AACF"}