{"version":3,"file":"logBuildMigration.js","names":["daysUntilDate","date","today","Date","eventDate","timeDiff","getTime","diffDays","Math","ceil","logBuildMigration","platform","Log","newLine","command","chalk","bold","log","dim","TerminalLink","learnMore","cyan","linkedText","endDate","daysLeft","red"],"sources":["../../../src/commands/build/logBuildMigration.ts"],"sourcesContent":["import chalk from 'chalk';\n\nimport Log from '../../log';\nimport * as TerminalLink from '../utils/TerminalLink';\n\nconst daysUntilDate = (date: string) => {\n  const today = new Date();\n  const eventDate = new Date(date);\n  const timeDiff = eventDate.getTime() - today.getTime();\n  if (timeDiff < 0) {\n    return 0;\n  }\n  const diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\n  return diffDays;\n};\n\nexport function logBuildMigration(platform: string) {\n  Log.newLine();\n  const command = chalk.bold(`expo build:${platform}`);\n  Log.log(\n    `${command} has been superseded by ${chalk.bold`eas build`}. ${chalk.dim(\n      TerminalLink.learnMore(`https://blog.expo.dev/turtle-goes-out-to-sea-d334db2a6b60`)\n    )}`\n  );\n  Log.newLine();\n  Log.log('Run the following:');\n  Log.newLine();\n  Log.log('\\u203A ' + chalk.cyan.bold('npm install -g eas-cli'));\n  Log.log(\n    `\\u203A ${TerminalLink.linkedText(\n      chalk.cyan.bold(`eas build -p ${platform}`),\n      `https://docs.expo.dev/build/setup/`\n    )}`\n  );\n\n  const endDate = 'January 4, 2023';\n  const daysLeft = daysUntilDate(endDate);\n  Log.newLine();\n\n  if (daysLeft) {\n    Log.log(\n      `${command} will be discontinued on ${chalk.bold(endDate)} (${daysLeft} day${\n        daysLeft === 1 ? '' : 's'\n      } left).`\n    );\n  } else {\n    Log.log(chalk.red(`${command} has been discontinued (${chalk.bold(endDate)}).`));\n  }\n  Log.newLine();\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAsD;AAAA;AAAA;AAEtD,MAAMA,aAAa,GAAIC,IAAY,IAAK;EACtC,MAAMC,KAAK,GAAG,IAAIC,IAAI,EAAE;EACxB,MAAMC,SAAS,GAAG,IAAID,IAAI,CAACF,IAAI,CAAC;EAChC,MAAMI,QAAQ,GAAGD,SAAS,CAACE,OAAO,EAAE,GAAGJ,KAAK,CAACI,OAAO,EAAE;EACtD,IAAID,QAAQ,GAAG,CAAC,EAAE;IAChB,OAAO,CAAC;EACV;EACA,MAAME,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAACJ,QAAQ,IAAI,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;EACzD,OAAOE,QAAQ;AACjB,CAAC;AAEM,SAASG,iBAAiB,CAACC,QAAgB,EAAE;EAClDC,cAAG,CAACC,OAAO,EAAE;EACb,MAAMC,OAAO,GAAGC,gBAAK,CAACC,IAAI,CAAE,cAAaL,QAAS,EAAC,CAAC;EACpDC,cAAG,CAACK,GAAG,CACJ,GAAEH,OAAQ,2BAA0BC,gBAAK,CAACC,IAAK,WAAW,KAAID,gBAAK,CAACG,GAAG,CACtEC,YAAY,GAACC,SAAS,CAAE,2DAA0D,CAAC,CACnF,EAAC,CACJ;EACDR,cAAG,CAACC,OAAO,EAAE;EACbD,cAAG,CAACK,GAAG,CAAC,oBAAoB,CAAC;EAC7BL,cAAG,CAACC,OAAO,EAAE;EACbD,cAAG,CAACK,GAAG,CAAC,SAAS,GAAGF,gBAAK,CAACM,IAAI,CAACL,IAAI,CAAC,wBAAwB,CAAC,CAAC;EAC9DJ,cAAG,CAACK,GAAG,CACJ,UAASE,YAAY,GAACG,UAAU,CAC/BP,gBAAK,CAACM,IAAI,CAACL,IAAI,CAAE,gBAAeL,QAAS,EAAC,CAAC,EAC1C,oCAAmC,CACpC,EAAC,CACJ;EAED,MAAMY,OAAO,GAAG,iBAAiB;EACjC,MAAMC,QAAQ,GAAGxB,aAAa,CAACuB,OAAO,CAAC;EACvCX,cAAG,CAACC,OAAO,EAAE;EAEb,IAAIW,QAAQ,EAAE;IACZZ,cAAG,CAACK,GAAG,CACJ,GAAEH,OAAQ,4BAA2BC,gBAAK,CAACC,IAAI,CAACO,OAAO,CAAE,KAAIC,QAAS,OACrEA,QAAQ,KAAK,CAAC,GAAG,EAAE,GAAG,GACvB,SAAQ,CACV;EACH,CAAC,MAAM;IACLZ,cAAG,CAACK,GAAG,CAACF,gBAAK,CAACU,GAAG,CAAE,GAAEX,OAAQ,2BAA0BC,gBAAK,CAACC,IAAI,CAACO,OAAO,CAAE,IAAG,CAAC,CAAC;EAClF;EACAX,cAAG,CAACC,OAAO,EAAE;AACf"}