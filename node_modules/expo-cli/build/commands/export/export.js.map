{"version":3,"file":"export.js","names":["collect","val","memo","push","program","applyAsyncActionProjectDir","command","description","helpGroup","option","checkConfig"],"sources":["../../../src/commands/export/export.ts"],"sourcesContent":["import type { Command } from 'commander';\n\nimport { applyAsyncActionProjectDir } from '../utils/applyAsyncAction';\n\nfunction collect<T>(val: T, memo: T[]): T[] {\n  memo.push(val);\n  return memo;\n}\n\nexport default function (program: Command) {\n  applyAsyncActionProjectDir(\n    program\n      .command('export [path]')\n      .description('Export the static files of the app for hosting it on a web server')\n      .helpGroup('core')\n      .option('--platform <all|android|ios>', 'Platforms: android, ios, all', 'all')\n      .option('-p, --public-url <url>', 'The public url that will host the static files (required)')\n      .option('-c, --clear', 'Clear the Metro bundler cache')\n      .option('--output-dir <dir>', 'The directory to export the static files to', 'dist')\n      .option(\n        '-a, --asset-url <url>',\n        'The absolute or relative url that will host the asset files',\n        './assets'\n      )\n      .option('-d, --dump-assetmap', 'Dump the asset map for further processing')\n      .option('--dev', 'Configure static files for developing locally using a non-https server')\n      .option('-s, --dump-sourcemap', 'Dump the source map for debugging the JS bundle')\n      .option('-q, --quiet', 'Suppress verbose output')\n      .option('-t, --target <managed|bare>', 'Target environment for which this export is intended')\n      .option('--merge-src-dir <dir>', 'A repeatable source dir to merge in', collect, [])\n      .option(\n        '--merge-src-url <url>',\n        'A repeatable source tar.gz file URL to merge in',\n        collect,\n        []\n      )\n      .option('--max-workers <num>', 'Maximum number of tasks to allow Metro to spawn')\n      .option('--experimental-bundle', 'export bundles for use with EAS updates'),\n    () => import('./exportAsync'),\n    { checkConfig: true }\n  );\n}\n"],"mappings":";;;;;;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAuE;AAAA;AAEvE,SAASA,OAAO,CAAIC,GAAM,EAAEC,IAAS,EAAO;EAC1CA,IAAI,CAACC,IAAI,CAACF,GAAG,CAAC;EACd,OAAOC,IAAI;AACb;AAEe,kBAAUE,OAAgB,EAAE;EACzC,IAAAC,8CAA0B,EACxBD,OAAO,CACJE,OAAO,CAAC,eAAe,CAAC,CACxBC,WAAW,CAAC,mEAAmE,CAAC,CAChFC,SAAS,CAAC,MAAM,CAAC,CACjBC,MAAM,CAAC,8BAA8B,EAAE,8BAA8B,EAAE,KAAK,CAAC,CAC7EA,MAAM,CAAC,wBAAwB,EAAE,2DAA2D,CAAC,CAC7FA,MAAM,CAAC,aAAa,EAAE,+BAA+B,CAAC,CACtDA,MAAM,CAAC,oBAAoB,EAAE,6CAA6C,EAAE,MAAM,CAAC,CACnFA,MAAM,CACL,uBAAuB,EACvB,6DAA6D,EAC7D,UAAU,CACX,CACAA,MAAM,CAAC,qBAAqB,EAAE,2CAA2C,CAAC,CAC1EA,MAAM,CAAC,OAAO,EAAE,wEAAwE,CAAC,CACzFA,MAAM,CAAC,sBAAsB,EAAE,iDAAiD,CAAC,CACjFA,MAAM,CAAC,aAAa,EAAE,yBAAyB,CAAC,CAChDA,MAAM,CAAC,6BAA6B,EAAE,sDAAsD,CAAC,CAC7FA,MAAM,CAAC,uBAAuB,EAAE,qCAAqC,EAAET,OAAO,EAAE,EAAE,CAAC,CACnFS,MAAM,CACL,uBAAuB,EACvB,iDAAiD,EACjDT,OAAO,EACP,EAAE,CACH,CACAS,MAAM,CAAC,qBAAqB,EAAE,iDAAiD,CAAC,CAChFA,MAAM,CAAC,uBAAuB,EAAE,yCAAyC,CAAC,EAC7E,mEAAa,eAAe,GAAC,EAC7B;IAAEC,WAAW,EAAE;EAAK,CAAC,CACtB;AACH"}