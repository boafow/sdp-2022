{"version":3,"file":"fetchAndroidKeystoreAsync.js","names":["actionAsync","projectRoot","options","ctx","Context","init","nonInteractive","parent","keystoreFilename","manifest","slug","maybeRenameExistingFileAsync","backupKeystoreOutputPath","path","resolve","experienceName","projectOwner","assertSlug","runCredentialsManager","DownloadKeystore","outputPath","displayCredentials"],"sources":["../../../src/commands/fetch/fetchAndroidKeystoreAsync.ts"],"sourcesContent":["import * as path from 'path';\n\nimport { Context } from '../../credentials';\nimport { runCredentialsManager } from '../../credentials/route';\nimport { DownloadKeystore } from '../../credentials/views/AndroidKeystore';\nimport { assertSlug, maybeRenameExistingFileAsync, Options } from './utils';\n\nexport async function actionAsync(projectRoot: string, options: Options): Promise<void> {\n  const ctx = new Context();\n  await ctx.init(projectRoot, {\n    nonInteractive: options.parent?.nonInteractive,\n  });\n\n  const keystoreFilename = `${ctx.manifest.slug}.jks`;\n  await maybeRenameExistingFileAsync(projectRoot, keystoreFilename);\n  const backupKeystoreOutputPath = path.resolve(projectRoot, keystoreFilename);\n  const experienceName = `@${ctx.projectOwner}/${ctx.manifest.slug}`;\n\n  assertSlug(ctx.manifest.slug);\n  await runCredentialsManager(\n    ctx,\n    new DownloadKeystore(experienceName, {\n      outputPath: backupKeystoreOutputPath,\n      displayCredentials: true,\n    })\n  );\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAA4E;AAAA;AAErE,eAAeA,WAAW,CAACC,WAAmB,EAAEC,OAAgB,EAAiB;EAAA;EACtF,MAAMC,GAAG,GAAG,KAAIC,sBAAO,GAAE;EACzB,MAAMD,GAAG,CAACE,IAAI,CAACJ,WAAW,EAAE;IAC1BK,cAAc,qBAAEJ,OAAO,CAACK,MAAM,oDAAd,gBAAgBD;EAClC,CAAC,CAAC;EAEF,MAAME,gBAAgB,GAAI,GAAEL,GAAG,CAACM,QAAQ,CAACC,IAAK,MAAK;EACnD,MAAM,IAAAC,qCAA4B,EAACV,WAAW,EAAEO,gBAAgB,CAAC;EACjE,MAAMI,wBAAwB,GAAGC,IAAI,GAACC,OAAO,CAACb,WAAW,EAAEO,gBAAgB,CAAC;EAC5E,MAAMO,cAAc,GAAI,IAAGZ,GAAG,CAACa,YAAa,IAAGb,GAAG,CAACM,QAAQ,CAACC,IAAK,EAAC;EAElE,IAAAO,mBAAU,EAACd,GAAG,CAACM,QAAQ,CAACC,IAAI,CAAC;EAC7B,MAAM,IAAAQ,8BAAqB,EACzBf,GAAG,EACH,KAAIgB,mCAAgB,EAACJ,cAAc,EAAE;IACnCK,UAAU,EAAER,wBAAwB;IACpCS,kBAAkB,EAAE;EACtB,CAAC,CAAC,CACH;AACH"}