{"version":3,"file":"startBundlerAsync.js","names":["setGlobalDevClientSettingsAsync","projectRoot","devClient","scheme","getOptionalDevClientSchemeAsync","catch","ProjectSettings","setAsync","startBundlerAsync","metroPort","platforms","installExitHooks","Project","startAsync","TerminalUI","isWebSocketsEnabled","isRemoteReloadingEnabled"],"sources":["../../../../src/commands/run/ios/startBundlerAsync.ts"],"sourcesContent":["import { Project, ProjectSettings } from 'xdl';\n\nimport * as TerminalUI from '../../start/TerminalUI';\nimport { installExitHooks } from '../../start/installExitHooks';\nimport { getOptionalDevClientSchemeAsync } from '../utils/schemes';\n\nexport async function setGlobalDevClientSettingsAsync(projectRoot: string) {\n  const devClient = true;\n  const scheme = await getOptionalDevClientSchemeAsync(projectRoot).catch(() => null);\n  await ProjectSettings.setAsync(projectRoot, {\n    devClient,\n    scheme,\n  });\n}\n\nexport async function startBundlerAsync(\n  projectRoot: string,\n  { metroPort, platforms }: Pick<Project.StartOptions, 'metroPort' | 'platforms'>\n) {\n  // Add clean up hooks\n  installExitHooks(projectRoot);\n  // This basically means don't use the Client app.\n  const devClient = true;\n  await Project.startAsync(projectRoot, { devClient, metroPort });\n  await TerminalUI.startAsync(projectRoot, {\n    devClient,\n    // Enable controls\n    isWebSocketsEnabled: true,\n    isRemoteReloadingEnabled: true,\n    platforms,\n  });\n}\n"],"mappings":";;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAmE;AAAA;AAE5D,eAAeA,+BAA+B,CAACC,WAAmB,EAAE;EACzE,MAAMC,SAAS,GAAG,IAAI;EACtB,MAAMC,MAAM,GAAG,MAAM,IAAAC,0CAA+B,EAACH,WAAW,CAAC,CAACI,KAAK,CAAC,MAAM,IAAI,CAAC;EACnF,MAAMC,sBAAe,CAACC,QAAQ,CAACN,WAAW,EAAE;IAC1CC,SAAS;IACTC;EACF,CAAC,CAAC;AACJ;AAEO,eAAeK,iBAAiB,CACrCP,WAAmB,EACnB;EAAEQ,SAAS;EAAEC;AAAiE,CAAC,EAC/E;EACA;EACA,IAAAC,oCAAgB,EAACV,WAAW,CAAC;EAC7B;EACA,MAAMC,SAAS,GAAG,IAAI;EACtB,MAAMU,cAAO,CAACC,UAAU,CAACZ,WAAW,EAAE;IAAEC,SAAS;IAAEO;EAAU,CAAC,CAAC;EAC/D,MAAMK,UAAU,GAACD,UAAU,CAACZ,WAAW,EAAE;IACvCC,SAAS;IACT;IACAa,mBAAmB,EAAE,IAAI;IACzBC,wBAAwB,EAAE,IAAI;IAC9BN;EACF,CAAC,CAAC;AACJ"}