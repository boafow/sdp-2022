{"version":3,"file":"sendAsync.js","names":["actionAsync","projectRoot","options","urlOpts","optsAsync","url","UrlUtils","constructDeepLinkAsync","Log","nested","chalk","underline","handleMobileOptsAsync","recipient","sendTo","UserSettings","getAsync","askForSendToAsync","sendUrlAsync"],"sources":["../../src/commands/sendAsync.ts"],"sourcesContent":["import chalk from 'chalk';\nimport { UrlUtils, UserSettings } from 'xdl';\n\nimport Log from '../log';\nimport * as sendTo from './utils/sendTo';\nimport urlOpts, { URLOptions } from './utils/urlOpts';\n\ntype Options = Partial<URLOptions & { sendTo?: string }>;\n\nexport async function actionAsync(projectRoot: string, options: Options) {\n  await urlOpts.optsAsync(projectRoot, options);\n\n  const url = await UrlUtils.constructDeepLinkAsync(projectRoot);\n\n  Log.nested('Project manifest URL\\n\\n' + chalk.underline(url) + '\\n');\n\n  if (await urlOpts.handleMobileOptsAsync(projectRoot, options)) {\n    return;\n  }\n\n  let recipient =\n    typeof options.sendTo !== 'boolean'\n      ? options.sendTo\n      : await UserSettings.getAsync('sendTo', null);\n\n  if (!recipient) {\n    recipient = await sendTo.askForSendToAsync();\n  }\n\n  await sendTo.sendUrlAsync(url, recipient);\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAsD;AAAA;AAAA;AAI/C,eAAeA,WAAW,CAACC,WAAmB,EAAEC,OAAgB,EAAE;EACvE,MAAMC,kBAAO,CAACC,SAAS,CAACH,WAAW,EAAEC,OAAO,CAAC;EAE7C,MAAMG,GAAG,GAAG,MAAMC,eAAQ,CAACC,sBAAsB,CAACN,WAAW,CAAC;EAE9DO,cAAG,CAACC,MAAM,CAAC,0BAA0B,GAAGC,gBAAK,CAACC,SAAS,CAACN,GAAG,CAAC,GAAG,IAAI,CAAC;EAEpE,IAAI,MAAMF,kBAAO,CAACS,qBAAqB,CAACX,WAAW,EAAEC,OAAO,CAAC,EAAE;IAC7D;EACF;EAEA,IAAIW,SAAS,GACX,OAAOX,OAAO,CAACY,MAAM,KAAK,SAAS,GAC/BZ,OAAO,CAACY,MAAM,GACd,MAAMC,mBAAY,CAACC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC;EAEjD,IAAI,CAACH,SAAS,EAAE;IACdA,SAAS,GAAG,MAAMC,MAAM,GAACG,iBAAiB,EAAE;EAC9C;EAEA,MAAMH,MAAM,GAACI,YAAY,CAACb,GAAG,EAAEQ,SAAS,CAAC;AAC3C"}