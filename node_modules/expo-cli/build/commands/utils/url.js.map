{"version":3,"file":"url.js","names":["getExpoDomainUrl","process","env","EXPO_STAGING","EXPO_LOCAL","constructBuildLogsUrl","buildId","username","projectSlug","constructTurtleStatusUrl","constructArtifactUrl","artifactId","isUrlAvailableAsync","url","Promise","resolve","dns","lookup","err"],"sources":["../../../src/commands/utils/url.ts"],"sourcesContent":["import dns from 'dns';\n\nexport function getExpoDomainUrl(): string {\n  if (process.env.EXPO_STAGING) {\n    return `https://staging.expo.dev`;\n  } else if (process.env.EXPO_LOCAL) {\n    return `http://expo.test`;\n  } else {\n    return `https://expo.dev`;\n  }\n}\n\nexport function constructBuildLogsUrl({\n  buildId,\n  username,\n  projectSlug,\n}: {\n  buildId: string;\n  username?: string;\n  projectSlug?: string;\n  v2?: boolean;\n}): string {\n  if (username && projectSlug) {\n    return `${getExpoDomainUrl()}/accounts/${username}/projects/${projectSlug}/builds/${buildId}`;\n  } else if (username) {\n    return `${getExpoDomainUrl()}/accounts/${username}/builds/${buildId}`;\n  } else {\n    return `${getExpoDomainUrl()}/builds/${buildId}`;\n  }\n}\n\nexport function constructTurtleStatusUrl(): string {\n  return `${getExpoDomainUrl()}/turtle-status`;\n}\n\nexport function constructArtifactUrl(artifactId: string): string {\n  return `${getExpoDomainUrl()}/artifacts/${artifactId}`;\n}\n\nexport function isUrlAvailableAsync(url: string): Promise<boolean> {\n  return new Promise<boolean>(resolve => {\n    dns.lookup(url, err => {\n      resolve(!err);\n    });\n  });\n}\n"],"mappings":";;;;;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAsB;AAEf,SAASA,gBAAgB,GAAW;EACzC,IAAIC,OAAO,CAACC,GAAG,CAACC,YAAY,EAAE;IAC5B,OAAQ,0BAAyB;EACnC,CAAC,MAAM,IAAIF,OAAO,CAACC,GAAG,CAACE,UAAU,EAAE;IACjC,OAAQ,kBAAiB;EAC3B,CAAC,MAAM;IACL,OAAQ,kBAAiB;EAC3B;AACF;AAEO,SAASC,qBAAqB,CAAC;EACpCC,OAAO;EACPC,QAAQ;EACRC;AAMF,CAAC,EAAU;EACT,IAAID,QAAQ,IAAIC,WAAW,EAAE;IAC3B,OAAQ,GAAER,gBAAgB,EAAG,aAAYO,QAAS,aAAYC,WAAY,WAAUF,OAAQ,EAAC;EAC/F,CAAC,MAAM,IAAIC,QAAQ,EAAE;IACnB,OAAQ,GAAEP,gBAAgB,EAAG,aAAYO,QAAS,WAAUD,OAAQ,EAAC;EACvE,CAAC,MAAM;IACL,OAAQ,GAAEN,gBAAgB,EAAG,WAAUM,OAAQ,EAAC;EAClD;AACF;AAEO,SAASG,wBAAwB,GAAW;EACjD,OAAQ,GAAET,gBAAgB,EAAG,gBAAe;AAC9C;AAEO,SAASU,oBAAoB,CAACC,UAAkB,EAAU;EAC/D,OAAQ,GAAEX,gBAAgB,EAAG,cAAaW,UAAW,EAAC;AACxD;AAEO,SAASC,mBAAmB,CAACC,GAAW,EAAoB;EACjE,OAAO,IAAIC,OAAO,CAAUC,OAAO,IAAI;IACrCC,cAAG,CAACC,MAAM,CAACJ,GAAG,EAAEK,GAAG,IAAI;MACrBH,OAAO,CAAC,CAACG,GAAG,CAAC;IACf,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ"}