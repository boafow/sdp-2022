{"version":3,"file":"matchFileNameOrURLFromStackTrace.js","names":["matchFileNameOrURLFromStackTrace","traceMessage","includes","traceLine","split","trim","match","url","params","results","paramsWithoutLocation","replace","push","filter","Boolean","join"],"sources":["../../src/utils/matchFileNameOrURLFromStackTrace.ts"],"sourcesContent":["/**\n * Given a line from a metro stack trace, this can attempt to extract\n * the file name or URL, omitting the code location.\n * Can be used to filter files from the stacktrace like LogBox.\n *\n * @param traceLine\n */\nexport function matchFileNameOrURLFromStackTrace(traceMessage: string): string | null {\n  if (!traceMessage.includes(' in ')) return null;\n  const traceLine = traceMessage.split(' in ')[0]?.trim();\n  // Is URL\n  // \"http://127.0.0.1:19000/index.bundle?platform=ios&dev=true&hot=false&minify=false:110910:3 in global code\"\n  if (traceLine.match(/https?:\\/\\//g)) {\n    const [url, params] = traceLine.split('?');\n\n    const results: string[] = [url];\n    if (params) {\n      const paramsWithoutLocation = params.replace(/:(\\d+)/g, '').trim();\n      results.push(paramsWithoutLocation);\n    }\n    return results.filter(Boolean).join('?');\n  }\n\n  // \"node_modules/react-native/Libraries/LogBox/LogBox.js:117:10 in registerWarning\"\n  // \"somn.js:1:0 in <global>\"\n  return traceLine.replace(/:(\\d+)/g, '').trim();\n}\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,gCAAgC,CAACC,YAAoB,EAAiB;EAAA;EACpF,IAAI,CAACA,YAAY,CAACC,QAAQ,CAAC,MAAM,CAAC,EAAE,OAAO,IAAI;EAC/C,MAAMC,SAAS,2BAAGF,YAAY,CAACG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,yDAA7B,qBAA+BC,IAAI,EAAE;EACvD;EACA;EACA,IAAIF,SAAS,CAACG,KAAK,CAAC,cAAc,CAAC,EAAE;IACnC,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGL,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC;IAE1C,MAAMK,OAAiB,GAAG,CAACF,GAAG,CAAC;IAC/B,IAAIC,MAAM,EAAE;MACV,MAAME,qBAAqB,GAAGF,MAAM,CAACG,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAACN,IAAI,EAAE;MAClEI,OAAO,CAACG,IAAI,CAACF,qBAAqB,CAAC;IACrC;IACA,OAAOD,OAAO,CAACI,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAC1C;;EAEA;EACA;EACA,OAAOZ,SAAS,CAACQ,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAACN,IAAI,EAAE;AAChD"}