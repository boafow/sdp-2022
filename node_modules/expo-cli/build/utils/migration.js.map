{"version":3,"file":"migration.js","names":["warnAboutLocalCLI","projectRoot","localCmd","exp","getConfig","skipSDKVersionRequirement","useLocalCLI","boolish","Versions","gteSdkVersion","Log","warn","chalk","learnMore","warnMigration","toCommand"],"sources":["../../src/utils/migration.ts"],"sourcesContent":["import { getConfig } from '@expo/config';\nimport chalk from 'chalk';\nimport { boolish } from 'getenv';\nimport { Versions } from 'xdl';\n\nimport { learnMore } from '../commands/utils/TerminalLink';\nimport Log from '../log';\n\nexport function warnAboutLocalCLI(projectRoot: string, { localCmd }: { localCmd: string }) {\n  const { exp } = getConfig(projectRoot, { skipSDKVersionRequirement: true });\n  const useLocalCLI = boolish('EXPO_USE_LOCAL_CLI', true);\n  if (Versions.gteSdkVersion(exp, '46.0.0') && useLocalCLI) {\n    Log.warn(\n      chalk`\\nThis command is being executed with the global Expo CLI. ${learnMore(\n        'https://blog.expo.dev/the-new-expo-cli-f4250d8e3421'\n      )}\\nTo use the local CLI instead (recommended in SDK 46 and higher), run:\\n\\u203A {bold npx expo ${localCmd}}\\n`\n    );\n  }\n}\n\nexport function warnMigration(toCommand: string) {\n  Log.warn(chalk`\\nMigrate to using:\\n\\u203A {bold ${toCommand}}\\n`);\n}\n"],"mappings":";;;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AACA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAyB;AAElB,SAASA,iBAAiB,CAACC,WAAmB,EAAE;EAAEC;AAA+B,CAAC,EAAE;EACzF,MAAM;IAAEC;EAAI,CAAC,GAAG,IAAAC,mBAAS,EAACH,WAAW,EAAE;IAAEI,yBAAyB,EAAE;EAAK,CAAC,CAAC;EAC3E,MAAMC,WAAW,GAAG,IAAAC,iBAAO,EAAC,oBAAoB,EAAE,IAAI,CAAC;EACvD,IAAIC,eAAQ,CAACC,aAAa,CAACN,GAAG,EAAE,QAAQ,CAAC,IAAIG,WAAW,EAAE;IACxDI,cAAG,CAACC,IAAI,CACN,IAAAC,gBAAK,CAAC,8DAA6D,IAAAC,yBAAS,EAC1E,qDAAqD,CACrD,kGAAiGX,QAAS,KAAI,CACjH;EACH;AACF;AAEO,SAASY,aAAa,CAACC,SAAiB,EAAE;EAC/CL,cAAG,CAACC,IAAI,CAAC,IAAAC,gBAAK,CAAC,qCAAoCG,SAAU,KAAI,CAAC;AACpE"}