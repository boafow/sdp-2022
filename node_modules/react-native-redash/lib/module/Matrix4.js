import _slicedToArray from"@babel/runtime/helpers/slicedToArray";var exhaustiveCheck=function exhaustiveCheck(a){"worklet";throw new Error("Unexhaustive handling for "+a);};export var identity4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var translate=function translate(x,y,z){"worklet";return[1,0,0,0,0,1,0,0,0,0,1,0,x,y,z,1];};var scale=function scale(sx,sy,sz){"worklet";return[sx,0,0,0,0,sy,0,0,0,0,sz,0,0,0,0,1];};var skewX=function skewX(s){"worklet";return[1,0,0,0,Math.tan(s),1,0,0,0,0,1,0,0,0,0,1];};var skewY=function skewY(s){"worklet";return[1,Math.tan(s),0,0,0,1,0,0,0,0,1,0,0,0,0,1];};var perspective=function perspective(p){"worklet";return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-1/p,1];};var rotateX=function rotateX(r){"worklet";return[1,0,0,0,0,Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1];};var rotateY=function rotateY(r){"worklet";return[Math.cos(r),0,-Math.sin(r),0,0,1,0,0,Math.sin(r),0,Math.cos(r),0,0,0,0,1];};var rotateZ=function rotateZ(r){"worklet";return[Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1];};export var matrixVecMul4=function matrixVecMul4(m,v){"worklet";var _v=_slicedToArray(v,4),vx=_v[0],vy=_v[1],vz=_v[2],vw=_v[3];return[vx*m[0]+vy*m[4]+vz*m[8]+vw*m[12],vx*m[1]+vy*m[5]+vz*m[9]+vw*m[13],vx*m[2]+vy*m[6]+vz*m[10]+vw*m[14],vx*m[3]+vy*m[7]+vz*m[11]+vw*m[15]];};export var mapPoint3d=function mapPoint3d(m,v){"worklet";var r=matrixVecMul4(m,[v[0],v[1],v[2],1]);return[r[0]/r[3],r[1]/r[3],r[2]/r[3]];};export var multiply4=function multiply4(a,b){"worklet";var out=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];var b0=b[0],b1=b[1],b2=b[2],b3=b[3];out[0]=b0*a00+b1*a10+b2*a20+b3*a30;out[1]=b0*a01+b1*a11+b2*a21+b3*a31;out[2]=b0*a02+b1*a12+b2*a22+b3*a32;out[3]=b0*a03+b1*a13+b2*a23+b3*a33;b0=b[4];b1=b[5];b2=b[6];b3=b[7];out[4]=b0*a00+b1*a10+b2*a20+b3*a30;out[5]=b0*a01+b1*a11+b2*a21+b3*a31;out[6]=b0*a02+b1*a12+b2*a22+b3*a32;out[7]=b0*a03+b1*a13+b2*a23+b3*a33;b0=b[8];b1=b[9];b2=b[10];b3=b[11];out[8]=b0*a00+b1*a10+b2*a20+b3*a30;out[9]=b0*a01+b1*a11+b2*a21+b3*a31;out[10]=b0*a02+b1*a12+b2*a22+b3*a32;out[11]=b0*a03+b1*a13+b2*a23+b3*a33;b0=b[12];b1=b[13];b2=b[14];b3=b[15];out[12]=b0*a00+b1*a10+b2*a20+b3*a30;out[13]=b0*a01+b1*a11+b2*a21+b3*a31;out[14]=b0*a02+b1*a12+b2*a22+b3*a32;out[15]=b0*a03+b1*a13+b2*a23+b3*a33;return out;};export var toMatrix3=function toMatrix3(m){"worklet";return[m[0],m[4],m[12],m[1],m[5],m[13],m[3],m[7],m[15]];};export var processTransform3d=function processTransform3d(transforms){"worklet";return transforms.reduce(function(acc,transform){var key=Object.keys(transform)[0];if(key==="translateX"){var value=transform[key];return multiply4(acc,translate(value,0,0));}if(key==="translateY"){var _value=transform[key];return multiply4(acc,translate(0,_value,0));}if(key==="translateZ"){var _value2=transform[key];return multiply4(acc,translate(0,0,_value2));}if(key==="scale"){var _value3=transform[key];return multiply4(acc,scale(_value3,_value3,1));}if(key==="scaleX"){var _value4=transform[key];return multiply4(acc,scale(_value4,1,1));}if(key==="scaleY"){var _value5=transform[key];return multiply4(acc,scale(1,_value5,1));}if(key==="skewX"){var _value6=transform[key];return multiply4(acc,skewX(_value6));}if(key==="skewY"){var _value7=transform[key];return multiply4(acc,skewY(_value7));}if(key==="rotateX"){var _value8=transform[key];return multiply4(acc,rotateX(_value8));}if(key==="rotateY"){var _value9=transform[key];return multiply4(acc,rotateY(_value9));}if(key==="perspective"){var _value10=transform[key];return multiply4(acc,perspective(_value10));}if(key==="rotate"||key==="rotateZ"){var _value11=transform[key];return multiply4(acc,rotateZ(_value11));}if(key==="matrix"){var matrix=transform[key];return multiply4(acc,matrix);}return exhaustiveCheck(key);},identity4);};export var concat4=function concat4(m,transform){"worklet";return multiply4(m,processTransform3d(transform));};export var Matrix4={translate:translate,scale:scale,rotateX:rotateX,rotateY:rotateY,rotateZ:rotateZ};
//# sourceMappingURL=Matrix4.js.map