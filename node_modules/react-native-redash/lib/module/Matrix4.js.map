{"version":3,"names":["exhaustiveCheck","a","Error","identity4","translate","x","y","z","scale","sx","sy","sz","skewX","s","Math","tan","skewY","perspective","p","rotateX","r","cos","sin","rotateY","rotateZ","matrixVecMul4","m","v","vx","vy","vz","vw","mapPoint3d","multiply4","b","out","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","toMatrix3","processTransform3d","transforms","reduce","acc","transform","key","Object","keys","value","matrix","concat4","Matrix4"],"sources":["Matrix4.ts"],"sourcesContent":["/* eslint-disable prefer-destructuring */\nimport type { Matrix3 } from \"./Matrix3\";\n\nexport type Vec3 = readonly [number, number, number];\nexport type Vec4 = readonly [number, number, number, number];\n\nexport type Matrix4 = readonly [\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number,\n  number\n];\n\ntype Transform3dName =\n  | \"translateX\"\n  | \"translateY\"\n  | \"translateZ\"\n  | \"scale\"\n  | \"scaleX\"\n  | \"scaleY\"\n  | \"skewX\"\n  | \"skewY\"\n  | \"rotateZ\"\n  | \"rotate\"\n  | \"perspective\"\n  | \"rotateX\"\n  | \"rotateY\"\n  | \"rotateZ\"\n  | \"matrix\";\n\ntype Transformations = {\n  [Name in Transform3dName]: Name extends \"matrix\" ? Matrix4 : number;\n};\n\nexport type Transforms3d = (\n  | Pick<Transformations, \"translateX\">\n  | Pick<Transformations, \"translateY\">\n  | Pick<Transformations, \"translateZ\">\n  | Pick<Transformations, \"scale\">\n  | Pick<Transformations, \"scaleX\">\n  | Pick<Transformations, \"scaleY\">\n  | Pick<Transformations, \"skewX\">\n  | Pick<Transformations, \"skewY\">\n  | Pick<Transformations, \"perspective\">\n  | Pick<Transformations, \"rotateX\">\n  | Pick<Transformations, \"rotateY\">\n  | Pick<Transformations, \"rotateZ\">\n  | Pick<Transformations, \"rotate\">\n  | Pick<Transformations, \"matrix\">\n)[];\n\n/**\n * @worklet\n */\nconst exhaustiveCheck = (a: never): never => {\n  \"worklet\";\n  throw new Error(`Unexhaustive handling for ${a}`);\n};\n\nexport const identity4: Matrix4 = [\n  1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1,\n];\n\n/**\n * @worklet\n */\nconst translate = (x: number, y: number, z: number): Matrix4 => {\n  \"worklet\";\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1];\n};\n\n/**\n * @worklet\n */\nconst scale = (sx: number, sy: number, sz: number): Matrix4 => {\n  \"worklet\";\n  return [sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst skewX = (s: number): Matrix4 => {\n  \"worklet\";\n  return [1, 0, 0, 0, Math.tan(s), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst skewY = (s: number): Matrix4 => {\n  \"worklet\";\n  return [1, Math.tan(s), 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n};\n\n/**\n * @worklet\n */\nconst perspective = (p: number): Matrix4 => {\n  \"worklet\";\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -1 / p, 1];\n};\n\n/**\n * @worklet\n */\nconst rotateX = (r: number): Matrix4 => {\n  \"worklet\";\n  return [\n    1,\n    0,\n    0,\n    0,\n    0,\n    Math.cos(r),\n    Math.sin(r),\n    0,\n    0,\n    -Math.sin(r),\n    Math.cos(r),\n    0,\n    0,\n    0,\n    0,\n    1,\n  ];\n};\n\n/**\n * @worklet\n */\nconst rotateY = (r: number): Matrix4 => {\n  \"worklet\";\n  return [\n    Math.cos(r),\n    0,\n    -Math.sin(r),\n    0,\n    0,\n    1,\n    0,\n    0,\n    Math.sin(r),\n    0,\n    Math.cos(r),\n    0,\n    0,\n    0,\n    0,\n    1,\n  ];\n};\n\n/**\n * @worklet\n */\nconst rotateZ = (r: number): Matrix4 => {\n  \"worklet\";\n  return [\n    Math.cos(r),\n    Math.sin(r),\n    0,\n    0,\n    -Math.sin(r),\n    Math.cos(r),\n    0,\n    0,\n    0,\n    0,\n    1,\n    0,\n    0,\n    0,\n    0,\n    1,\n  ];\n};\n\n/**\n * @worklet\n */\nexport const matrixVecMul4 = (m: Matrix4, v: Vec4) => {\n  \"worklet\";\n  const [vx, vy, vz, vw] = v;\n  return [\n    vx * m[0] + vy * m[4] + vz * m[8] + vw * m[12],\n    vx * m[1] + vy * m[5] + vz * m[9] + vw * m[13],\n    vx * m[2] + vy * m[6] + vz * m[10] + vw * m[14],\n    vx * m[3] + vy * m[7] + vz * m[11] + vw * m[15],\n  ];\n};\n\n/**\n * @worklet\n */\nexport const mapPoint3d = (m: Matrix4, v: Vec3) => {\n  \"worklet\";\n  const r = matrixVecMul4(m, [v[0], v[1], v[2], 1]);\n  return [r[0] / r[3], r[1] / r[3], r[2] / r[3]] as const;\n};\n\n/**\n * @worklet\n */\nexport const multiply4 = (a: Matrix4, b: Matrix4) => {\n  \"worklet\";\n  const out = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  const a00 = a[0],\n    a01 = a[1],\n    a02 = a[2],\n    a03 = a[3],\n    a10 = a[4],\n    a11 = a[5],\n    a12 = a[6],\n    a13 = a[7],\n    a20 = a[8],\n    a21 = a[9],\n    a22 = a[10],\n    a23 = a[11],\n    a30 = a[12],\n    a31 = a[13],\n    a32 = a[14],\n    a33 = a[15];\n\n  let b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out as unknown as Matrix4;\n};\n\n/**\n * @worklet\n */\nexport const toMatrix3 = (m: Matrix4): Matrix3 => {\n  \"worklet\";\n  return [m[0], m[4], m[12], m[1], m[5], m[13], m[3], m[7], m[15]];\n};\n\n/**\n * @worklet\n */\nexport const processTransform3d = (transforms: Transforms3d) => {\n  \"worklet\";\n  return transforms.reduce((acc, transform) => {\n    const key = Object.keys(transform)[0] as Transform3dName;\n    if (key === \"translateX\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, translate(value, 0, 0));\n    }\n    if (key === \"translateY\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, translate(0, value, 0));\n    }\n    if (key === \"translateZ\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, translate(0, 0, value));\n    }\n    if (key === \"scale\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, scale(value, value, 1));\n    }\n    if (key === \"scaleX\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, scale(value, 1, 1));\n    }\n    if (key === \"scaleY\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, scale(1, value, 1));\n    }\n    if (key === \"skewX\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, skewX(value));\n    }\n    if (key === \"skewY\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, skewY(value));\n    }\n    if (key === \"rotateX\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, rotateX(value));\n    }\n    if (key === \"rotateY\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, rotateY(value));\n    }\n    if (key === \"perspective\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, perspective(value));\n    }\n    if (key === \"rotate\" || key === \"rotateZ\") {\n      const value = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, rotateZ(value));\n    }\n    if (key === \"matrix\") {\n      const matrix = (transform as Pick<Transformations, typeof key>)[key];\n      return multiply4(acc, matrix);\n    }\n    return exhaustiveCheck(key);\n  }, identity4);\n};\n\n/**\n * @worklet\n */\nexport const concat4 = (m: Matrix4, transform: Transforms3d) => {\n  \"worklet\";\n  return multiply4(m, processTransform3d(transform));\n};\n\nexport const Matrix4 = {\n  translate,\n  scale,\n  rotateX,\n  rotateY,\n  rotateZ,\n};\n"],"mappings":"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"}