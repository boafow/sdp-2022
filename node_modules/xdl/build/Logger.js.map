{"version":3,"file":"Logger.js","names":["ConsoleRawStream","write","record","level","bunyan","DEBUG","console","debug","INFO","log","WARN","info","ERROR","warn","error","logger","createLogger","name","serializers","stdSerializers","streams","process","env","EXPO_RAW_LOG","NODE_ENV","type","stream","closeOnExit","child","options","notifications","global"],"sources":["../src/Logger.ts"],"sourcesContent":["import bunyan from '@expo/bunyan';\n\nclass ConsoleRawStream {\n  write(record: any) {\n    if (record.level < bunyan.DEBUG) {\n      console.debug(record);\n    } else if (record.level < bunyan.INFO) {\n      console.log(record);\n    } else if (record.level < bunyan.WARN) {\n      console.info(record);\n    } else if (record.level < bunyan.ERROR) {\n      console.warn(record);\n    } else {\n      console.error(record);\n    }\n  }\n}\n\nconst logger = bunyan.createLogger({\n  name: 'expo',\n  serializers: bunyan.stdSerializers,\n  streams:\n    process.env.EXPO_RAW_LOG && process.env.NODE_ENV !== 'production'\n      ? [\n          {\n            type: 'raw',\n            stream: new ConsoleRawStream(),\n            closeOnExit: false,\n            level: 'debug',\n          },\n        ]\n      : [],\n});\n\nexport type LogStream = bunyan.Stream;\nexport type Log = bunyan;\n\nexport default {\n  child: (options: object) => logger.child(options),\n  notifications: logger.child({ type: 'notifications' }),\n  global: logger.child({ type: 'global' }),\n  DEBUG: bunyan.DEBUG,\n  INFO: bunyan.INFO,\n  WARN: bunyan.WARN,\n  ERROR: bunyan.ERROR,\n};\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAkC;AAElC,MAAMA,gBAAgB,CAAC;EACrBC,KAAK,CAACC,MAAW,EAAE;IACjB,IAAIA,MAAM,CAACC,KAAK,GAAGC,iBAAM,CAACC,KAAK,EAAE;MAC/BC,OAAO,CAACC,KAAK,CAACL,MAAM,CAAC;IACvB,CAAC,MAAM,IAAIA,MAAM,CAACC,KAAK,GAAGC,iBAAM,CAACI,IAAI,EAAE;MACrCF,OAAO,CAACG,GAAG,CAACP,MAAM,CAAC;IACrB,CAAC,MAAM,IAAIA,MAAM,CAACC,KAAK,GAAGC,iBAAM,CAACM,IAAI,EAAE;MACrCJ,OAAO,CAACK,IAAI,CAACT,MAAM,CAAC;IACtB,CAAC,MAAM,IAAIA,MAAM,CAACC,KAAK,GAAGC,iBAAM,CAACQ,KAAK,EAAE;MACtCN,OAAO,CAACO,IAAI,CAACX,MAAM,CAAC;IACtB,CAAC,MAAM;MACLI,OAAO,CAACQ,KAAK,CAACZ,MAAM,CAAC;IACvB;EACF;AACF;AAEA,MAAMa,MAAM,GAAGX,iBAAM,CAACY,YAAY,CAAC;EACjCC,IAAI,EAAE,MAAM;EACZC,WAAW,EAAEd,iBAAM,CAACe,cAAc;EAClCC,OAAO,EACLC,OAAO,CAACC,GAAG,CAACC,YAAY,IAAIF,OAAO,CAACC,GAAG,CAACE,QAAQ,KAAK,YAAY,GAC7D,CACE;IACEC,IAAI,EAAE,KAAK;IACXC,MAAM,EAAE,IAAI1B,gBAAgB,EAAE;IAC9B2B,WAAW,EAAE,KAAK;IAClBxB,KAAK,EAAE;EACT,CAAC,CACF,GACD;AACR,CAAC,CAAC;AAAC,eAKY;EACbyB,KAAK,EAAGC,OAAe,IAAKd,MAAM,CAACa,KAAK,CAACC,OAAO,CAAC;EACjDC,aAAa,EAAEf,MAAM,CAACa,KAAK,CAAC;IAAEH,IAAI,EAAE;EAAgB,CAAC,CAAC;EACtDM,MAAM,EAAEhB,MAAM,CAACa,KAAK,CAAC;IAAEH,IAAI,EAAE;EAAS,CAAC,CAAC;EACxCpB,KAAK,EAAED,iBAAM,CAACC,KAAK;EACnBG,IAAI,EAAEJ,iBAAM,CAACI,IAAI;EACjBE,IAAI,EAAEN,iBAAM,CAACM,IAAI;EACjBE,KAAK,EAAER,iBAAM,CAACQ;AAChB,CAAC;AAAA"}