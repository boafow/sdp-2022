{"version":3,"file":"FeatureGateEnvOverrides.js","names":["FeatureGateEnvOverrides","constructor","Map","enable","disable","Env","getFeatureGateOverrides","overrideEnableGateKeys","Set","overrideDisableGateKeys","overrideEnableKey","has","map","set","overrideDisableGateKey","isOverridden","key","getOverride","nullthrows","get"],"sources":["../../src/gating/FeatureGateEnvOverrides.ts"],"sourcesContent":["import nullthrows from 'nullthrows';\n\nimport { Env, FeatureGateKey } from '../internal';\n\nexport default class FeatureGateEnvOverrides {\n  private readonly map = new Map<string, boolean>();\n\n  constructor() {\n    const { enable, disable } = Env.getFeatureGateOverrides();\n    const overrideEnableGateKeys = new Set(enable);\n    const overrideDisableGateKeys = new Set(disable);\n\n    for (const overrideEnableKey of overrideEnableGateKeys) {\n      if (overrideDisableGateKeys.has(overrideEnableKey)) {\n        continue;\n      }\n      this.map.set(overrideEnableKey, true);\n    }\n    for (const overrideDisableGateKey of overrideDisableGateKeys) {\n      this.map.set(overrideDisableGateKey, false);\n    }\n  }\n\n  public isOverridden(key: FeatureGateKey): boolean {\n    return this.map.has(key) ?? false;\n  }\n\n  public getOverride(key: FeatureGateKey): boolean {\n    return nullthrows(this.map.get(key));\n  }\n}\n"],"mappings":";;;;;;AAAA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAEA;EAAA;EAAA;IAAA;EAAA;EAAA;AAAA;AAAkD;AAAA;AAAA;AAAA;AAEnC,MAAMA,uBAAuB,CAAC;EAG3CC,WAAW,GAAG;IAAA,6BAFS,IAAIC,GAAG,EAAmB;IAG/C,MAAM;MAAEC,MAAM;MAAEC;IAAQ,CAAC,GAAGC,eAAG,CAACC,uBAAuB,EAAE;IACzD,MAAMC,sBAAsB,GAAG,IAAIC,GAAG,CAACL,MAAM,CAAC;IAC9C,MAAMM,uBAAuB,GAAG,IAAID,GAAG,CAACJ,OAAO,CAAC;IAEhD,KAAK,MAAMM,iBAAiB,IAAIH,sBAAsB,EAAE;MACtD,IAAIE,uBAAuB,CAACE,GAAG,CAACD,iBAAiB,CAAC,EAAE;QAClD;MACF;MACA,IAAI,CAACE,GAAG,CAACC,GAAG,CAACH,iBAAiB,EAAE,IAAI,CAAC;IACvC;IACA,KAAK,MAAMI,sBAAsB,IAAIL,uBAAuB,EAAE;MAC5D,IAAI,CAACG,GAAG,CAACC,GAAG,CAACC,sBAAsB,EAAE,KAAK,CAAC;IAC7C;EACF;EAEOC,YAAY,CAACC,GAAmB,EAAW;IAAA;IAChD,wBAAO,IAAI,CAACJ,GAAG,CAACD,GAAG,CAACK,GAAG,CAAC,yDAAI,KAAK;EACnC;EAEOC,WAAW,CAACD,GAAmB,EAAW;IAC/C,OAAO,IAAAE,qBAAU,EAAC,IAAI,CAACN,GAAG,CAACO,GAAG,CAACH,GAAG,CAAC,CAAC;EACtC;AACF;AAAC"}